
<meta name="viewport" content="width=device-width, initial-scale=1"><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css"> <!--Link to CSS-->
    <title>Pattern List</title>
</head>

<body>
  <header>
      <h1 style="text-align: center;">Design Pattern Registry</h1>       

 <div class="searchBar">
   <form action="#">
     <input id="searchText" type="text" placeholder="Search.." name="search">
          <button type="submit">Submit</button>
        </form>
 </div>

 <ul id="pattern-list">  
 </ul>
 <br>
     
    <div class="topNav">
      <ul class="topNav"> <!--Top Navigation-->
        <li class="topNav"><a href="index.html">Home</a></li>
        <li class="topNav"><a href="addPattern.html">Add Pattern to Registry</a></li>
        <li class="topNav"><a class="active" href="patternList.html">Pattern list</a></li>
        <li class="topNav"><a href="contact.html">Contact Us</a><li></li>
      </ul>
   </div>
   </header>

  <hr>

    <h2 style="text-align: center">List of Design Patterns</h2>

 <hr>

 <script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  let id = 0;
  const firebaseConfig = {
    apiKey: "AIzaSyCgOuzgshkSmcM-6fHlwmS5fFUbSlSO_Hg",
    authDomain: "design-pattern-registry-ee990.firebaseapp.com",
    databaseURL: "https://design-pattern-registry-ee990-default-rtdb.firebaseio.com",
    projectId: "design-pattern-registry-ee990",
    storageBucket: "design-pattern-registry-ee990.appspot.com",
    messagingSenderId: "730667038424",
    appId: "1:730667038424:web:71c0aef5ee3180211209ad",
    measurementId: "G-EGC1CFVLM4"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);

  import {getDatabase, ref, set, child, update, remove, push, get}
  from "https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js";

  const db = getDatabase();
  const dbRef = ref(getDatabase());

  get(child(dbRef, 'posts/')).then((snapshot) => {
    if (snapshot.exists()){
      let p = "-MquY2B7OROIcQ8uwFF7";
      console.log(snapshot.val().p);
      console.log(snapshot.val());
      ref.orderByKey().on('child_added', (snapshot) => {
        console.log(snapshot.key);
      })
     
      document.getElementById("pattern-list").innerHTML = snapshot.val().p;
      //let p = snapshot.
      //let list = document.getElementById("pattern-list");
      //for(let of in snapshot.val){
      //  console.log("f", f.entries());
      //  list.innerHTML += "<li>" + f + "</li>"; 
      //}

    }
    else{
      console.log("No data available");
    }
  }).catch((error) => {
    console.log("Error", error);
  });


  </script>
</body>

<footer>
  <div class="botNav">
    <ul class="botNav"> <!--Bottom Navigation-->
     <li class="botNav"><a href="index.html">Home</a></li>
     <li class="botNav"><a href="addPattern.html">Add Pattern to Registry</a></li>
      <li class="botNav"><a href="patternList.html">Pattern list</a></li>
      <li class="botNav"><a href="contact.html">Contact Us</a><li></li>
    </ul>
  </div>
</footer>

</html>